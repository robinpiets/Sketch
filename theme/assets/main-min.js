var PRODUCT_CONTENT_DESKTOP,log=!1;0!=window.location.href.indexOf("https://1")&&0!=window.location.href.indexOf("http://1")||(log=!0),$(document).ready(function(){function o(){$("[data-behavior~=toggle-share-dropdown]").click(function(o){o.preventDefault(),$(this).parent().children(".share-dropdown").slideToggle(500,"swing")}),$("[data-behavior~=openProductDetails]").click(function(o){o.preventDefault();var t=$(this).parents(".product__extra-info");t.find(".product-info__menu-item").removeClass("active"),t.find(".product__details").removeClass("show"),t.find(".info-productDetails").addClass("show"),$(this).addClass("active")}),$("[data-behavior~=openFitAndSize]").click(function(o){log&&console.log("open fit and size"),o.preventDefault();var t=$(this).parents(".product__extra-info");t.find(".product-info__menu-item").removeClass("active"),t.find(".product__details").removeClass("show"),t.find(".info-fitAndSize").addClass("show"),$(this).addClass("active")}),$("[data-behavior~=openShipping]").click(function(o){o.preventDefault();var t=$(this).parents(".product__extra-info");t.find(".product-info__menu-item").removeClass("active"),t.find(".product__details").removeClass("show"),t.find(".info-shipping").addClass("show"),$(this).addClass("active")}),$("[data-behavior~=openShare]").click(function(o){o.preventDefault();var t=$(this).parents(".product__extra-info");t.find(".product-info__menu-item").removeClass("active"),t.find(".product__details").removeClass("show"),t.find(".info-share").addClass("show"),$(this).addClass("active")}),$(".add-cart-form").off(),$(".add-cart-form").on("submit",function(o){var t=$(this).parents(".product__container");return log&&console.log("on cart submit",t),t.find(".cart-modal.show-on-desktop").css({opacity:"1","z-index":"99999"}),t.nextAll(".cart-modal.show-on-mobile").css({opacity:"1","z-index":"99999"}),$("body").addClass("modal-open"),$form=$(this),postUrl=$form.attr("action"),$.ajax({url:postUrl,success:function(){log&&console.log("product successfully added");var o=$("#numCartItems").data("num-items");o+=1,$("#numCartItems").text(o)}}),!1}),$("[data-behavior~=close-cart-modal]").click(function(o){o.preventDefault(),$(".cart-modal").css({opacity:"","z-index":""}),$("body").removeClass("modal-open")}),$("[data-behavior~=open-fav-modal]").click(function(o){log&&console.log("open fav modal"),o.preventDefault();var t=$(this).parents(".product__container");t.find(".favModal.show-on-desktop").css({opacity:"1","z-index":"99999"}),t.nextAll(".favModal.show-on-mobile").css({opacity:"1","z-index":"99999"}),$("body").addClass("modal-open")}),$("[data-behavior~=close-fav-modal]").click(function(o){o.preventDefault(),$(".favModal").css({opacity:"","z-index":""}),$("body").removeClass("modal-open")}),$(".product__container.show-on-desktop:not(.updated) .product__image--container").on("mouseover",function(){$(this).children(".photo").css({transform:"scale(1.75)"})}).on("mouseout",function(){$(this).children(".photo").css({transform:"scale(1)",width:""})}).on("mousemove",function(o){$(this).children(".photo").css({"transform-origin":(o.pageX-$(this).offset().left)/$(this).width()*100+"% "+(o.pageY-$(this).offset().top)/$(this).height()*100+"%"})}).each(function(){$(this).append('<div class="photo"></div>').children(".photo").css({"background-image":$(this).css("background-image")})}).css("background-image","")}function t(){$(".product__container").not(".updated").each(function(o,t){var e=$(this).attr("data-product-id");$(this).find("select").each(function(o,t){var n=$(this).attr("onchange");n=n.replace("product_configure_form",$(this).parents("form").attr("id")),n=n.replace("product_configure_form'",$(this).parents("form").attr("id")+"'"),$(this).attr("onchange",n);var a=$(this).attr("id")+"_"+e;$(this).attr("id",a)}),$(this).addClass("updated")}),$(".product__container.show-on-desktop").each(function(o,t){$(this).find(".product__image--container").length<=3&&$(this).addClass("product-small")}),$(".product__image--carousel").not(".slick-initialized").slick({prevArrow:"<div class='prev-arrow'><span class='arrow'><</span></div>",nextArrow:"<div class='next-arrow'><span class='arrow'>></span></div>"}),$("select").not(".nice-selected").niceSelect().addClass("nice-selected"),$(".product-info__menu-item").not(".smooth-scroll").smoothScroll({offset:-50}).addClass("smooth-scroll")}function e(){l=!0;var e=d[0];d.splice(0,1),log&&console.log("Loading new product: ",e),$.ajax({url:e}).done(function(e){var n=$(e).find(".main-content").not(".dynamic-content");n.find(".dynamic-content").remove(),$(".dynamic-content.main-content").append(n.html()),setTimeout(function(){$(".dynamic-content .product__container.show-on-mobile").last().addClass("new-product"),$(".dynamic-content .product__container.show-on-desktop").last().addClass("new-product"),$(".product__separator").addClass("product-loaded"),1==Math.abs($(".dynamic-content .product__container.show-on-mobile").length%2)&&$(".dynamic-content .product__container.show-on-desktop").last().addClass("product-uneven-columns"),o(),t()},10)}),setTimeout(function(){l=!1},1e3)}function n(){log&&console.log("Finished loading products"),r=!0,$(".product__separator").last().addClass("all-products-loaded")}$("[data-behavior~=open-mobile-menu]").click(function(o){o.preventDefault(),$(this).toggleClass("is-active"),$(".mobile-menu").toggleClass("is-active")}),$(".lookbook-link").click(function(){log&&console.log("Lookbook link clicked")}),$("[data-behavior~=open-newsletter-modal]").click(function(o){o.preventDefault(),$("#newsletterModal").css({opacity:"1","z-index":"99999"}),$("body").addClass("modal-open")}),$("[data-behavior~=close-newsletter-modal]").click(function(o){o.preventDefault(),$("#newsletterModal").css({opacity:"","z-index":""}),$("body").removeClass("modal-open")}),$("[data-behavior~=trigger-menu-dropdown]").click(function(o){o.preventDefault(),$(this).toggleClass("active"),$(this).parent().children(".menu-dropdown").slideToggle(500,"swing")}),o(),$(window).width()<576&&$(".product__container.show-on-desktop").length>0&&(PRODUCT_CONTENT_DESKTOP=$(".product__container.show-on-desktop").detach()),t();var a=$(".menu.desktop-menu .menu-link.active"),i=!1;if(console.log(a),a.length&&$(".product__container").length){var s=a.attr("href");if(console.log(s),s){var c=[],d=[],l=!1,r=!1;$.ajax({url:s}).done(function(o){var t=!0;$(o).find(".product__columns .product-image").each(function(o,e){var n=$(this).attr("href"),a=n.replace(window.location.protocol+"//","");a=a.split("/"),2==a[1].length?(a="/"+a[1]+"/"+a[2],console.log("2: ",a)):(a="/"+a[1],console.log("1: ",a)),a==window.location.pathname?(log&&console.log("SAME: ",a),t=!1):(log&&console.log(a),t?c.push(a):d.push(a))}),d=$.merge(d,c),console.log(d),d.length?(log&&console.log(d),i=!0):$(".product__available, .product-loading").html(" ")}).fail(function(){log&&console.log("fail")}),$(window).scroll(function(){$(window).scrollTop()>=$(document).height()-$(window).height()-300&&i&&(!l&&d.length&&e(),l||d.length||r||n())})}}}),$(window).resize(function(){$(window).width()<576?(log&&console.log("mobile width"),$(".product__container.show-on-desktop").length>0&&(PRODUCT_CONTENT_DESKTOP=$(".product__container.show-on-desktop").detach())):(log&&console.log("desktop width"),PRODUCT_CONTENT_DESKTOP&&(PRODUCT_CONTENT_DESKTOP.appendTo(".main-content"),PRODUCT_CONTENT_DESKTOP=null))});